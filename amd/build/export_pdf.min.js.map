{"version":3,"sources":["../src/export_pdf.js"],"names":["define","$","init","on","e","preventDefault","loadingModal","position","text","color","opacity","backgroundColor","animation","get","attr","response","console","log","error","location","href","url","setTimeout"],"mappings":"AACAA,OAAM,qCAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,4CAAvB,CAAD,CAAuE,SAASC,CAAT,CAAY,CACrF,QAASC,CAAAA,CAAT,EAAe,CACXD,CAAC,CAAC,eAAD,CAAD,CAAmBE,EAAnB,CAAsB,OAAtB,CAA+B,SAASC,CAAT,CAAY,CACvCA,CAAC,CAACC,cAAF,GACAJ,CAAC,CAAC,MAAD,CAAD,CAAUK,YAAV,CAAuB,CACnBC,QAAQ,CAAE,MADS,CAEnBC,IAAI,CAAE,wCAFa,CAGnBC,KAAK,CAAE,MAHY,CAInBC,OAAO,CAAE,KAJU,CAKnBC,eAAe,CAAE,YALE,CAMnBC,SAAS,CAAE,QANQ,CAAvB,EASAX,CAAC,CAACY,GAAF,CACIZ,CAAC,CAAC,IAAD,CAAD,CAAQa,IAAR,CAAa,MAAb,CADJ,CAEI,SAASC,CAAT,CAAmB,CACfC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACA,GAAoB,OAAhB,EAAAA,CAAQ,CAACG,KAAb,CACA,CACIC,QAAQ,CAACC,IAAT,CAAgBL,CAAQ,CAACM,GAAzB,CACApB,CAAC,CAAC,MAAD,CAAD,CAAUK,YAAV,CAAuB,MAAvB,EACAgB,UAAU,CAAC,UAAU,CAACrB,CAAC,CAAC,MAAD,CAAD,CAAUK,YAAV,CAAuB,SAAvB,CAAkC,CAA9C,CAA+C,GAA/C,CACb,CALD,IAKK,CACDL,CAAC,CAAC,MAAD,CAAD,CAAUK,YAAV,CAAuB,MAAvB,CAA8B,kDAA9B,EACAgB,UAAU,CAAC,UAAU,CAACrB,CAAC,CAAC,MAAD,CAAD,CAAUK,YAAV,CAAuB,MAAvB,CAA+B,CAA3C,CAA4C,GAA5C,CAAV,CACAgB,UAAU,CAAC,UAAU,CAACrB,CAAC,CAAC,MAAD,CAAD,CAAUK,YAAV,CAAuB,SAAvB,CAAkC,CAA9C,CAA+C,GAA/C,CACb,CACJ,CAdL,CAeI,MAfJ,CAiBH,CA5BD,CA6BH,CAED,MAAO,CACHJ,IAAI,CAAE,eAAU,CACZA,CAAI,EACP,CAHE,CAKV,CAtCK,CAAN","sourcesContent":["/* jshint ignore:start */\r\ndefine(['jquery', 'jqueryui', 'local_magistere_offers/jquery.loadingModal'], function($) {\r\n    function init(){\r\n        $(\"a.pdf-catalog\").on(\"click\", function(e) {\r\n            e.preventDefault();\r\n            $(\"body\").loadingModal({\r\n                position: \"auto\",\r\n                text: \"Génération du catalogue en cours\",\r\n                color: \"#fff\",\r\n                opacity: \"0.7\",\r\n                backgroundColor: \"rgb(0,0,0)\",\r\n                animation: \"circle\"\r\n            });\r\n\r\n            $.get(\r\n                $(this).attr(\"href\"),\r\n                function(response) {\r\n                    console.log(response);\r\n                    if (response.error==\"false\")\r\n                    {\r\n                        location.href = response.url;\r\n                        $(\"body\").loadingModal(\"hide\");\r\n                        setTimeout(function(){$(\"body\").loadingModal(\"destroy\")},1000);\r\n                    }else{\r\n                        $(\"body\").loadingModal(\"text\",\"La génération du catalogue a échouée\");\r\n                        setTimeout(function(){$(\"body\").loadingModal(\"hide\")},2000);\r\n                        setTimeout(function(){$(\"body\").loadingModal(\"destroy\")},3000);\r\n                    }\r\n                },\r\n                \"json\"\r\n            );\r\n        });\r\n    }\r\n\r\n    return {\r\n        init: function(){\r\n            init();\r\n        }\r\n    };\r\n});"],"file":"export_pdf.min.js"}